# JIP

JIP(Jinsul Input Program)는 커맨드 라인 인터페이스(CLI, Command Line Interface)로 사용하는 진설 정보 입력기입니다. [진설 홈페이지](http://jinsul.co.kr)의 GUI에서 치료결과(도수치료, 충격파치료 등)를 입력하는 방법은 작업시간이 상대적으로 오래 걸리기 때문에 더 빠르게 입력작업을 할 수 있길 원했습니다. 그래서 터미널에서 CLI로 입력하는 프로그램을 만들었습니다.

JIP는 **대화형으로 사용자에게 입력 받는 기능**과 **명령어와 옵션을 통한 기능**이 있습니다.

## 사용환경

JIP는 NodeJS Version 18 환경에서 개발, 실행하기 때문에 컴퓨터에 **NodeJS Version 18** 이상이 설치돼 있어야 합니다.

## 설치

1. nodejs 설치. 방법은 [공식홈페이지 https://nodejs.org/ko](https://nodejs.org/ko)를 참조
2. 터미널에서 `npm install -g @ysjkof/jip`를 입력해 전역상태로 앱을 설치.

```bash
> npm install -g @ysjkof/jip
```

## 사용방법

CLI앱은 터미널에서 `jip`를 입력하면 앱이 실행됩니다. 

이때 도움말과 대화형 인터페이스 시작 여부를 묻는 질문이 나타납니다. 키보드 방향키로 `네` / `아니오`를 선택하고 엔터키를 누르면 실행됩니다.

<img width="719" alt="doc-jip-init" src="https://github.com/ysjkof/jip/assets/77876601/38084e55-b031-45ba-bb40-a84bec57e3da">

## Commands

### login

웹에서 erp에 로그인할 때 사용하는 아이디와 비밀번호를 저장합니다.

사용방법: `jip login [ID] [Password]`

- `jip login myId`를 입력하면 아이디와 비밀번호가 "myId"로 저장됩니다.
- `jip login myId myPassword`를 입력하면 아이디 "myId", 비밀번호 "myPassword"가 저장됩니다.
- `jip login`를 입력하면 대화형 인터페이스로 아이디와 비밀번호를 입력할 수 있습니다.

<img width="719" alt="doc-jip-login" src="https://github.com/ysjkof/jip/assets/77876601/276c41b2-60d3-48c6-a458-47e302521ab8">

### logout

저장된 아이디와 비밀번호를 제거합니다.

사용방법: `jip logout`

<img width="719" alt="doc-jip-logout" src="https://github.com/ysjkof/jip/assets/77876601/60dbbf1f-880e-49c9-b838-ba809636cd5f">

### dosu

도수치료 시행 결과를 저장합니다.

사용방법: `jip dosu|ds [환자번호] [options] `

- `jip dosu`나 `jip ds`는 같은 기능입니다.
- `jip dosu 123`나 `jip ds 123`를 입력하면 환자번호 123의 도수치료 시행 결과를 저장하고 모든 값은 기본값으로 저장됩니다.

```bash
Options
  -d, --date <value>       시행 날짜를 입력합니다. (기본값: 오늘)
  -t, --therapist <value>  담당 치료사를 입력합니다. (기본값: 로그인 ID)
  -p, --price <value>      가격을 입력합니다. (기본값: 가장 마지막 가격)
  -f, --first              신환이면 입력합니다. (기본값: 재진)
  -nr, --no-reserved       예약하지 않았을 때 입력합니다. (기본값: 예약함)
```

사용예시:

```bash
// 오늘날짜는 2023년 1월 1일이라고 가정한다.
// 환자 번호만 입력할 경우 모두 기본값으로 입력된다.
> jip dosu 123
날짜: 230101 / 치료사: 김치료 / 환자: 123 - 홍길동 / 도수치료 / 가격: 80,000 / 재진 / 예약함

> jip ds 123
날짜: 230101 / 치료사: 김치료 / 환자: 123 - 홍길동 / 도수치료 / 가격: 80,000 / 재진 / 예약함

// 치료사는 박치료다.
> jip ds 123 -t 박치료
날짜: 230101 / 치료사: 박치료 / 환자: 123 - 홍길동 / 도수치료 / 가격: 80,000 / 재진 / 예약함

// 치료사는 박치료다. 이 환자는 신환이다.
> jip ds 123 -t 박치료 -f
날짜: 230101 / 치료사: 박치료 / 환자: 123 - 홍길동 / 도수치료 / 가격: 80,000 / 신환 / 예약함

// 치료사는 박치료다. 이 환자는 신환이고, 다음 예약을 안했다.
> jip ds 123 -t 박치료 -f -nr
날짜: 230101 / 치료사: 박치료 / 환자: 123 - 홍길동 / 도수치료 / 가격: 80,000 / 신환 / 예약안함

// 치료사는 박치료다. 이 환자는 신환이고, 다음 예약을 안했고, 가격 150,000원의 프로그램을 진행했다. 가격을 3자리 이하를 입력하면 곱하기 1,000이 된다.
> jip ds 123 -t 박치료 -f -nr -p 150000
날짜: 230101 / 치료사: 박치료 / 환자: 123 - 홍길동 / 도수치료 / 가격: 150,000 / 신환 / 예약안함

> jip ds 123 -t 박치료 -f -nr -p 150
날짜: 230101 / 치료사: 박치료 / 환자: 123 - 홍길동 / 도수치료 / 가격: 150,000 / 신환 / 예약안함

// 치료사는 박치료다. 이 환자는 신환이고, 다음 예약을 안했고, 가격 150,000원의 프로그램을 진행했다. 저장할 날짜는 2023년 6월 5일이다
> jip ds 123 -t 박치료 -f -nr -p 150 -d 230605
날짜: 230605 / 치료사: 박치료 / 환자: 123 - 홍길동 / 도수치료 / 가격: 150,000 / 신환 / 예약안함
```

### eswt

체외충격파 시행 결과를 저장합니다.

사용방법: `jip eswt|et [환자번호] [options] `

- `jip eswt`나 `jip et`는 같은 기능입니다.
- `jip eswt 123`나 `jip et 123`를 입력하면 환자번호 123의 **체외충격파** 시행 결과를 저장하고 모든 값은 기본값으로 저장됩니다.

```bash
Options
  -d, --date <value>       시행 날짜를 입력합니다. (기본값: 오늘)
  -t, --therapist <value>  담당 치료사를 입력합니다. (기본값: 로그인 ID)
  -p, --price <value>      가격을 입력합니다. (기본값: 가장 마지막 가격)
  -f, --first              신환이면 입력합니다. (기본값: 재진)
  -nr, --no-reserved       예약하지 않았을 때 입력합니다. (기본값: 예약함)
```

사용예시:

```bash
// 오늘날짜는 2023년 1월 1일이라고 가정한다.
// 환자 번호만 입력할 경우 모두 기본값으로 입력된다.
> jip eswt 123
날짜: 230101 / 치료사: 김치료 / 환자: 123 - 홍길동 / 체외충격파 / 가격: 50,000 / 재진 / 예약함

> jip et 123
날짜: 230101 / 치료사: 김치료 / 환자: 123 - 홍길동 / 체외충격파 / 가격: 50,000 / 재진 / 예약함

// 치료사는 박치료다. 이 환자는 신환이고, 다음 예약을 안했다.
> jip ds 123 -t 박치료 -f -nr
날짜: 230101 / 치료사: 박치료 / 환자: 123 - 홍길동 / 체외충격파 / 가격: 50,000 / 신환 / 예약안함

// 치료사는 박치료다. 이 환자는 신환이고, 다음 예약을 안했고, 가격 90,000원의 프로그램을 진행했다. 저장할 날짜는 2023년 6월 5일이다
> jip ds 123 -t 박치료 -f -nr -p 90 -d 230605
날짜: 230605 / 치료사: 박치료 / 환자: 123 - 홍길동 / 체외충격파 / 가격: 90,000 / 신환 / 예약안함
```
